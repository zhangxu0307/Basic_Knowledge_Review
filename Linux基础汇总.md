# Linux基础汇总 #


### 基础知识

### 文件属性

在Linux中第一个字符代表这个文件是目录、文件或链接文件等等。

- 当为[ d ]则是目录
- 当为[-]则是文件；
- 若是[ l ]则表示为链接文档(link file)；
- 若是[ b ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
- 若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。


接下来的字符中，以三个为一组，且均为『rwx』 的三个参数的组合。其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。

每个文件的属性由左边第一部分的10个字符来确定（如下图）。

![](http://www.runoob.com/wp-content/uploads/2014/06/363003_1227493859FdXT.png)

## 基本命令 ##

### ls (列出文件信息)

- -a ：全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)
- -d ：仅列出当前目录本身，也就是. 而不是列出目录内的文件数据(常用)
- -l ：长数据串列出，包含文件的属性与权限等等数据；(常用)
- 三个参数可以混用

### cd (切换目录)

- cd ~
- cd ..

### pwd (显示目前所在的目录)

- -P ：显示出确实的路径，而非使用连结 (link) 路径。

### mkdir (创建新目录)

- -m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
- -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来

### rmdir (删除空的目录)

- -p ：连同上一级『空的』目录也一起删除
- 此命令如果目录不为空会报错

### cp (复制文件或目录)

- -a：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)
- -d：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身； 
- -f：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次； 
- -i：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用) 
- -l：进行硬式连结(hard link)的连结档创建，而非复制文件本身；
- -p：连同文件的属性一起复制过去，而非使用默认属性(备份常用)； 
- -r：递归持续复制，用於目录的复制行为；(常用) 
- -s：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
- -u：若 destination 比 source 旧才升级 destination ！

### rm (移除文件或目录)

- -f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
- -i ：互动模式，在删除前会询问使用者是否动作
- -r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！


### mv (移动文件与目录，或修改名称)

- -f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
- -i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
- -u ：若目标文件已经存在，且 source 比较新，才会升级 (update)
- 此命令有重命名的功能：mv mvtest mvtest2

### cat （由第一行开始显示文件内容）

- -A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
- -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
- -E ：将结尾的断行字节 $ 显示出来；
- -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
- -T ：将 [tab] 按键以 ^I 显示出来；
- -v ：列出一些看不出来的特殊字符

### tac （由最后一行开始显示文件内容）

### nl （显示行号）

- -b ：指定行号指定的方式，主要有两种：
- -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
- -b t ：如果有空行，空的那一行不要列出行号(默认值)；
- -n ：列出行号表示的方法，主要有三种：
- -n ln ：行号在荧幕的最左方显示；
- -n rn ：行号在自己栏位的最右方显示，且不加 0 ；
- -n rz ：行号在自己栏位的最右方显示，且加 0 ；
- -w ：行号栏位的占用的位数。

### head （取出文件前面几行）

- head [-n number] 文件 
- -n ：后面接数字，代表显示几行的意思

### tail (取出文件后面几行)

- -n ：后面接数字，代表显示几行的意思
- -f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测

### wc (统计给定文件中的字节数、字数、行数)

- -c 统计字节数。
- -l 统计行数。
- -m 统计字符数。这个标志不能与 -c 标志一起使用。
- -w 统计字数。一个字被定义为由空白、跳格或换行字符分隔的字符串。
- -L 打印最长行的长度。
- -help 显示帮助信息
- --version 显示版本信息

### | || &&

- &  表示任务在后台执行，如要在后台运行redis-server,则有  redis-server &
- && 表示前一条命令执行成功时，才执行后一条命令 ，如 echo '1‘ && echo '2'    
- | 表示管道，上一条命令的输出，作为下一条命令参数，如 echo 'yes' | wc -l
- || 表示上一条命令执行失败后，才执行下一条命令，如 cat nofile || echo "fail"

### 统计目录数或者文件数

- 文件数 （不包括目录）：ls -l | grep "^-" | wc -l
- 文件数（包括子目录）：ls -lR | grep "^d" | wc -l
- 目录数（包括子目录）:ls -lR | grep "^d" | wc -l
- ls -lR是列出所有文件，包括子目录
- grep "^-": 过滤ls的输出信息，只保留一般文件，只保留目录是grep "^d"

### echo （在显示器上显示一段文字）]

- \a 发出警告声；
- \b 删除前一个字符；
- \c 最后不加上换行符号；
- \f 换行但光标仍旧停留在原来的位置；
- \n 换行且光标移至行首；
- \r 光标移至行首，但不换行；
- \t 插入tab；
- \v 与\f相同；
- \\ 插入\字符；
- \nnn 插入nnn（八进制）所代表的ASCII字符；
- –help 显示帮助
- –version 显示版本信息

### grep


### chgrp （更改文件属组)

- -R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。

### chown (更改文件属主，也可以同时更改文件属组)

### chmod (更改文件9个属性)

一种是数字，一种是符号

其中，我们可以使用数字来代表各个权限，各权限的分数对照表如下：
 
- r:4
- w:2
- x:1

每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为： [-rwxrwx---] 分数则是：

- owner = rwx = 4+2+1 = 7
- group = rwx = 4+2+1 = 7
- others= ---= 0+0+0 = 0

chmod [-R] xyz 文件或目录


还有一个改变权限的方法呦！从之前的介绍中我们可以发现，基本上就九个权限分别是(1)user (2)group (3)others三种身份啦！ 那么我们就可以藉由u, g, o来代表三种身份的权限！

此外， a 则代表 all 亦即全部的身份！那么读写的权限就可以写成r, w, x！也就是可以使用底下的方式来看：

![](https://i.imgur.com/NNDpz1m.png)

	#  touch test1    // 创建 test1 文件
	# ls -al test1    // 查看 test1 默认权限
	-rw-r--r-- 1 root root 0 Nov 15 10:32 test1
	# chmod u=rwx,g=rx,o=r  test1    // 修改 test1 权限
	# ls -al test1
	-rwxr-xr-- 1 root root 0 Nov 15 10:32 test1

	去掉所有人的执行权限
	#  chmod  a-x test1
	# ls -al test1
	-rw-r--r-- 1 root root 0 Nov 15 10:32 test1